{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function () {\n\t'use strict';\n\n//=====================================================\n//============================ parce properties to find\n//=====================================================\n\n\tfunction parceFind(_levelA) {\n\t\t//+++++++++++++++++++++++++++++++++++ work over Array\n\t\t//++++++++++++++++++++++++++++++++++++++++++++++++++++\n\n\t\tlet propsA = _levelA.map(function (currentValue, index) {\n\n\t\t\tlet itemX = _levelA[index];\n\n\t\t\tif (itemX instanceof Query) {\n\t\t\t\treturn itemX.toString();\n\t\t\t} else if (!Array.isArray(itemX) && \"object\" === typeof itemX) {\n\t\t\t\tlet propsA = Object.keys(itemX);\n\t\t\t\tif (1 !== propsA.length) {\n\t\t\t\t\tthrow new RangeError(\"Alias objects should only have one value. was passed: \" + JSON.stringify(itemX));\n\t\t\t\t}\n\t\t\t\tlet propS = propsA[0];\n\t\t\t\tlet item = itemX[propS];\n\t\t\t\treturn `${propS} : ${item} `;\n\t\t\t} else if (\"string\" === typeof itemX) {\n\t\t\t\treturn itemX;\n\t\t\t} else {\n\t\t\t\tthrow new RangeError(\"cannot handle Find value of \" + itemX);\n\t\t\t}\n\t\t});\n\n\t\treturn propsA.join(\",\");\n\t}\n\n//=====================================================\n//========================================= Query Class\n//=====================================================\n\n\tfunction Query(_fnNameS, _aliasS_OR_Filter) {\n\n\t\tthis.fnNameS = _fnNameS;\n\t\tthis.headA = [];\n\n\t\tthis.filter = (filtersO) => {\n\t\t\tfor (let propS in filtersO) {\n\t\t\t\tthis.headA.push(`${propS}:${(\"string\" === typeof filtersO[propS]) ? JSON.stringify(filtersO[propS]) : filtersO[propS]}`);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\n\t\tif (\"string\" === typeof _aliasS_OR_Filter) {\n\t\t\tthis.aliasS = _aliasS_OR_Filter;\n\t\t} else if (\"object\" === typeof _aliasS_OR_Filter) {\n\t\t\tthis.filter(_aliasS_OR_Filter);\n\t\t} else if (undefined === _aliasS_OR_Filter && 2 == arguments.length) {\n\t\t\tthrow new TypeError(\"You have passed undefined as Second argument to 'Query'\");\n\t\t} else if (undefined !== _aliasS_OR_Filter) {\n\t\t\tthrow new TypeError(\"Second argument to 'Query' should be an alias name(String) or filter arguments(Object). was passed \" + _aliasS_OR_Filter);\n\t\t}\n\n\t\tthis.setAlias = (_aliasS) => {\n\t\t\tthis.aliasS = _aliasS;\n\t\t\treturn this\n\t\t};\n\n\t\tthis.find = function (findA) { // THIS NEED TO BE A \"FUNCTION\" to scope 'arguments'\n\t\t\tif (!findA) {\n\t\t\t\tthrow new TypeError(\"find value can not be >>falsy<<\");\n\t\t\t}\n\t\t\t// if its a string.. it may have other values\n\t\t\t// else it sould be an Object or Array of maped values\n\t\t\tthis.bodyS = parceFind((Array.isArray(findA)) ? findA : Array.from(arguments));\n\t\t\treturn this;\n\t\t}\n\t};\n\n//=====================================================\n//===================================== Query prototype\n//=====================================================\n\n\tQuery.prototype = {\n\n\t\ttoString: function () {\n\t\t\tif (undefined === this.bodyS) {\n\t\t\t\tthrow new ReferenceError(\"return properties are not defined. use the 'find' function to defined them\");\n\t\t\t}\n\n\t\t\treturn `${ (this.aliasS) ? (this.aliasS + \":\") : \"\" } ${this.fnNameS } ${ (0 < this.headA.length) ? \"(\" + this.headA.join(\",\") + \")\" : \"\" }  { ${ this.bodyS } }`;\n\t\t}\n\t}\n\n\tif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\t\tmodule.exports = Query;\n\t} else {\n\t\twindow.Query = Query;\n\t}\n})();\n"],"sourceRoot":"/source/"}