{"version":3,"sources":["src/index.ts"],"names":[],"mappings":"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","file":"src/index.js","sourcesContent":["declare interface GraphQlQueryConstructor {\n\tnew (fnNameS: any, aliasS_OR_Filter?: any): GraphQlQuery;\n}\n\nclass GraphQlQuery {\n\tprivate head;\n\tprivate alias;\n\tprivate body;\n\n\tconstructor(private fnName: string, private alias_OR_filter?: string|Object) {\n\t\tthis.head = [];\n\n\t\tif (typeof alias_OR_filter === 'string') {\n\t\t\tthis.setAlias(alias_OR_filter);\n\t\t} else if (typeof alias_OR_filter === 'object') {\n\t\t\tthis.filter(alias_OR_filter);\n\t\t} else if (undefined === alias_OR_filter && 2 == arguments.length) {\n\t\t\tthrow new TypeError(`You have passed undefined as Second argument to 'GraphQlQuery'`);\n\t\t} else if (undefined !== alias_OR_filter) {\n\t\t\tthrow new TypeError(`Second argument to 'GraphQlQuery' should be an alias name(String) or filter arguments(Object). was passed ${alias_OR_filter}`);\n\t\t}\n\t}\n\n\tpublic filter(filters: Object): GraphQlQuery {\n\t\tfor (let props in filters) {\n\t\t\tthis.head.push(`${props}:${(typeof filters[props] === 'string') ? JSON.stringify(filters[props]) : filters[props]}`);\n\t\t}\n\t\treturn this;\n\t}\n\n\tpublic setAlias(alias: string): GraphQlQuery {\n\t\tthis.alias = alias;\n\t\treturn this;\n\t}\n\n\tpublic find(find: any[]): GraphQlQuery {\n\t\tif (!find) {\n\t\t\tthrow new TypeError('find value can not be >>falsy<<');\n\t\t}\n\t\tthis.body = this.parseFind((Array.isArray(find)) ? find : Array.prototype.slice.call(arguments));\n\n\t\treturn this;\n\t}\n\n\tpublic toString(): string {\n\t\tif (undefined === this.body) {\n\t\t\tthrow new ReferenceError(`return properties are not defined. use the 'find' function to defined them`);\n\t\t}\n\n\t\treturn `${ (this.alias) ? (this.alias + \":\") : \"\" } ${this.fnName } ${ (0 < this.head.length) ? \"(\" + this.head.join(\",\") + \")\" : \"\" }  { ${ this.body } }`;\n\t}\n\n\tprivate parseFind(levelA: Array<any>): string {\n\t\tlet propsA = levelA.map(function (currentValue, index) {\n\n\t\t\tlet itemX = levelA[index];\n\n\t\t\tif (itemX instanceof GraphQlQuery) {\n\t\t\t\treturn itemX.toString();\n\t\t\t} else if (!Array.isArray(itemX) && typeof itemX === 'object') {\n\t\t\t\tlet propsA = Object.keys(itemX);\n\t\t\t\tif (1 !== propsA.length) {\n\t\t\t\t\tthrow new RangeError(`Alias objects should only have one value. was passed: ${JSON.stringify(itemX)}`);\n\t\t\t\t}\n\t\t\t\tlet propS = propsA[0];\n\t\t\t\tlet item = itemX[propS];\n\t\t\t\treturn `${propS} : ${item} `;\n\t\t\t} else if (typeof itemX === 'string') {\n\t\t\t\treturn itemX;\n\t\t\t} else {\n\t\t\t\tthrow new RangeError(`cannot handle Find value of ${itemX}`);\n\t\t\t}\n\t\t});\n\n\t\treturn propsA.join(',');\n\t}\n}\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\tmodule.exports = GraphQlQuery;\n}\n"],"sourceRoot":"/source/"}